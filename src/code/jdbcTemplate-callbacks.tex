

\begin{lstlisting}[language=Java, caption={Example of loading data using Spring JDBC Framework}, label={code:jdbcTemplate:callbacks}]
public void insertValue() throws SQLException { /* \label{code:jdbcTemplate:callbacks:method} */
  DataSource dataSource = createDataSource();
  JdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource);
  jdbcTemplate.execute(new InsertCallback()); /* \label{code:jdbcTemplate:callbacks:executeCallback} */
}

public class InsertCallback implements StatementCallback<Void> {
  @@@Override@@
  public Void doInStatement(Statement statement) throws SQLException {
    statement.execute("INSERT INTO T (ID, VALUE) VALUES (1, 'VALUE')"); /* \label{code:jdbcTemplate:callbacks:executeInsert} */
    return null;
  }
}
\end{lstlisting}

