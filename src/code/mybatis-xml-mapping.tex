
\begin{lstlisting}[language=XML, morekeywords={mapper,resultMap,result,select}, caption={MyBatis XML mapper definition}, label={code:mybatis:xml:mapping}]
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Mapper">
  <resultMap id="resultMap" type="DatabaseValue"> /*\label{code:mybatis:xml:mapping:mapping:begin}*/
    <result column="ID" property="id"/>
    <result column="VALUE" property="value"/>
  </resultMap> /*\label{code:mybatis:xml:mapping:mapping:end}*/

  <select id="selectById" resultMap="resultMap" parameterType="int">
    @@SELECT ID, VALUE FROM T WHERE ID = #{id}@@ /*\label{code:mybatis:xml:mapping:query}*/
  </select>
</mapper>
\end{lstlisting}
