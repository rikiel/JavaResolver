

\begin{lstlisting}[caption={Example of loading data from Oracle database using Spring JDBC Framework}, label={code:jdbcTemplate}]
class Mapper implements RowMapper<DatabaseValue> {
  @Override
  public DatabaseValue mapRow(ResultSet rs, int rowNum) throws SQLException {
    DatabaseValue databaseValue = new DatabaseValue();
    databaseValue.setId(rs.getInt(1));
    databaseValue.setValue(rs.getString(2));
    return databaseValue;
  }
}

public DatabaseValue getForId(int id) throws SQLException {
  final OracleDataSource dataSource = new OracleDataSource();
  dataSource.setURL("jdbc:oracle:thin:@//192.168.0.16:1521/orcl");
  dataSource.setUser("User");
  dataSource.setPassword("Password");

  JdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource);
  String query = "SELECT ID, VALUE FROM T WHERE ID = ?";
  return jdbcTemplate.queryForObject(query, new Mapper(), id);
}
\end{lstlisting}

